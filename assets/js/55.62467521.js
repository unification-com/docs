(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{336:function(a,s,t){"use strict";t.r(s);var e=t(14),n=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"single-node-devnet"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#single-node-devnet"}},[a._v("#")]),a._v(" Single Node DevNet")]),a._v(" "),s("p",[a._v("The "),s("code",[a._v("und")]),a._v(" binary can be used to generate a quick and simple single-node "),s("code",[a._v("DevNet")])]),a._v(" "),s("h4",{attrs:{id:"contents"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#contents"}},[a._v("#")]),a._v(" Contents")]),a._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#getting-und"}},[a._v("Getting und")])]),s("li",[s("a",{attrs:{href:"#initialise-the-chain"}},[a._v("Initialise the chain")])]),s("li",[s("a",{attrs:{href:"#create-some-test-accounts-keys"}},[a._v("Create some test accounts & keys")])]),s("li",[s("a",{attrs:{href:"#add-the-accounts-to-genesis-in-this-order"}},[a._v("Add the accounts to genesis - in this order")])]),s("li",[s("a",{attrs:{href:"#generate-validator-gentx"}},[a._v("Generate validator gentx")])]),s("li",[s("a",{attrs:{href:"#start-the-daemon"}},[a._v("Start the daemon")])]),s("li",[s("a",{attrs:{href:"#automated-script"}},[a._v("Automated Script")])])])]),s("p"),a._v(" "),s("h2",{attrs:{id:"getting-und"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getting-und"}},[a._v("#")]),a._v(" Getting "),s("code",[a._v("und")])]),a._v(" "),s("p",[a._v("Either clone the repo and build/install "),s("code",[a._v("und")]),a._v(":")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" clone https://github.com/unification-com/mainchain\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" mainchain\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" checkout "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("latest release tag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v("\n")])])]),s("p",[a._v("Or download the latest release from\n"),s("a",{attrs:{href:"https://github.com/unification-com/mainchain/releases/latest",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://github.com/unification-com/mainchain/releases/latest"),s("OutboundLink")],1)]),a._v(" "),s("h2",{attrs:{id:"initialise-the-chain"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#initialise-the-chain"}},[a._v("#")]),a._v(" Initialise the chain")]),a._v(" "),s("p",[a._v("We'll use the chain ID "),s("code",[a._v("FUND-DevNet")]),a._v(", and home directory "),s("code",[a._v("$HOME/.und_mainchain_DevNet")])]),a._v(" "),s("ol",[s("li",[a._v("Initialise "),s("code",[a._v("und")])])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("und init devnet_validator "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$HOME")]),a._v("/.und_mainchain_DevNet --chain-id FUND-DevNet\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("Set some client config defaults")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("und config chain-id FUND-DevNet "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$HOME")]),a._v("/.und_mainchain_DevNet\nund config keyring-backend "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$HOME")]),a._v("/.und_mainchain_DevNet\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[a._v("Modify the default denominations in "),s("code",[a._v("genesis.json")])])]),a._v(" "),s("p",[a._v("This is required because the Cosmos SDK default denomination is "),s("code",[a._v("stake")]),a._v(", and we need it to be "),s("code",[a._v("nund")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sed")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"s/stake/nund/g"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$HOME")]),a._v("/.und_mainchain_DevNet/config/genesis.json\n")])])]),s("ol",{attrs:{start:"4"}},[s("li",[a._v("Enable REST and swagger (optional)")])]),a._v(" "),s("p",[a._v("This will allow REST access on "),s("a",{attrs:{href:"http://localhost:1317",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://localhost:1317"),s("OutboundLink")],1),a._v(" and Swagger\nvia "),s("a",{attrs:{href:"http://localhost:1317/swagger/",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://localhost:1317/swagger/"),s("OutboundLink")],1)]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sed")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"s/enable = false/enable = true/g"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$HOME")]),a._v("/.und_mainchain_DevNet/config/app.toml\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sed")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"s/swagger = false/swagger = true/g"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$HOME")]),a._v("/.und_mainchain_DevNet/config/app.toml\n")])])]),s("h2",{attrs:{id:"create-some-test-accounts-keys"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-some-test-accounts-keys"}},[a._v("#")]),a._v(" Create some test accounts & keys")]),a._v(" "),s("p",[a._v("We'll create four accounts - one for the validator, and three test accounts")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("und keys "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" validator "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$HOME")]),a._v("/.und_mainchain_DevNet\nund keys "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" t0 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$HOME")]),a._v("/.und_mainchain_DevNet\nund keys "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" t1 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$HOME")]),a._v("/.und_mainchain_DevNet\nund keys "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" t2 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$HOME")]),a._v("/.und_mainchain_DevNet\n")])])]),s("h2",{attrs:{id:"add-the-accounts-to-genesis-in-this-order"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#add-the-accounts-to-genesis-in-this-order"}},[a._v("#")]),a._v(" Add the accounts to genesis - in this order")]),a._v(" "),s("p",[a._v("Next, we need to add the wallet addresses to "),s("code",[a._v("genesis.json")]),a._v(" along with some "),s("code",[a._v("nund")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("und add-genesis-account t0 1000000000000nund "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$HOME")]),a._v("/.und_mainchain_DevNet --keyring-backend "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v("\nund add-genesis-account validator 1000000000000nund "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$HOME")]),a._v("/.und_mainchain_DevNet --keyring-backend "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v("\nund add-genesis-account t1 1000000000000nund "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$HOME")]),a._v("/.und_mainchain_DevNet --keyring-backend "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v("\nund add-genesis-account t2 1000000000000nund "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$HOME")]),a._v("/.und_mainchain_DevNet --keyring-backend "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v("\n")])])]),s("h2",{attrs:{id:"generate-validator-gentx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#generate-validator-gentx"}},[a._v("#")]),a._v(" Generate validator gentx")]),a._v(" "),s("p",[a._v("Add the validator to "),s("code",[a._v("genesis.json")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("und gentx validator 1000000nund "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$HOME")]),a._v("/.und_mainchain_DevNet --chain-id FUND-DevNet\nund collect-gentxs "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$HOME")]),a._v("/.und_mainchain_DevNet\n")])])]),s("h2",{attrs:{id:"start-the-daemon"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#start-the-daemon"}},[a._v("#")]),a._v(" Start the daemon")]),a._v(" "),s("p",[a._v("Finall, start DevNet")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("und start "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$HOME")]),a._v("/.und_mainchain_DevNet\n")])])]),s("h2",{attrs:{id:"automated-script"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#automated-script"}},[a._v("#")]),a._v(" Automated Script")]),a._v(" "),s("p",[a._v("Here's a handy "),s("code",[a._v("bash")]),a._v(" script that can be configured and run. Simply save it as "),s("code",[a._v("und_testnet.sh")]),a._v(" and run\nwith "),s("code",[a._v("bash und_testnet.sh")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token shebang important"}},[a._v("#!/bin/bash")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("################################################################")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# A script for quickly spinning up a local single-node devnet  #")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("################################################################")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# DevNet configuration")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("UND_VERS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"1.7.0"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Change to latest release - https://github.com/unification-com/mainchain/releases/latest")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("TEST_PATH")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/tmp/und_devnet"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("CHAIN_ID_PREFIX")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"FUND-DevNet"')]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Generate unique Chian ID suffix")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("CHAIN_ID_SUFFIX")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" /proc/sys/kernel/random/uuid "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sed")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'s/[-]//g'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("head")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("CHAIN_ID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${CHAIN_ID_PREFIX}")]),a._v("-"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${CHAIN_ID_SUFFIX}")]),a._v('"')]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Internal VARS")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DATA_DIR")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${TEST_PATH}")]),a._v('/.und_mainchain"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("UND_BIN")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${TEST_PATH}")]),a._v('/und"')]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[a._v("version_lt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$@")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("tr")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('" "')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[a._v("\\n")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sort")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-rV")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("head")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$1")]),a._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" version_lt "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$UND_VERS")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"1.6.3"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("then")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"versions < 1.6.3 not supported"')]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exit")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("fi")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# check for previous tests")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$TEST_PATH")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("then")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Found previous test configuration in '),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${TEST_PATH}")]),a._v('."')]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Either delete '),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${TEST_PATH}")]),a._v(' and rerun this script"')]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"or start the chain again using:"')]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"  '),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${UND_BIN}")]),a._v(" start --home "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${DATA_DIR}")]),a._v('"')]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exit")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("fi")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${TEST_PATH}")]),a._v('"')]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${TEST_PATH}")]),a._v('"')]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# download und")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$UND_BIN")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("then")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"https://github.com/unification-com/mainchain/releases/download/v'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${UND_VERS}")]),a._v("/und_v"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${UND_VERS}")]),a._v('_linux_x86_64.tar.gz"')]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-zxvf")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"und_v'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${UND_VERS}")]),a._v('_linux_x86_64.tar.gz"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("fi")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# init chain")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${UND_BIN}")]),a._v('"')]),a._v(" init devnet-validator "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${DATA_DIR}")]),a._v('"')]),a._v(" --chain-id"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${CHAIN_ID}")]),a._v('"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${UND_BIN}")]),a._v('"')]),a._v(" config chain-id "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${CHAIN_ID}")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${DATA_DIR}")]),a._v('"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${UND_BIN}")]),a._v('"')]),a._v(" config keyring-backend "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${DATA_DIR}")]),a._v('"')]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# change default denoms from stake to nund in genesis")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sed")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"s/stake/nund/g"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${DATA_DIR}")]),a._v('/config/genesis.json"')]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# enable REST & swagger")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sed")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"s/enable = false/enable = true/g"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${DATA_DIR}")]),a._v('/config/app.toml"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sed")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"s/swagger = false/swagger = true/g"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${DATA_DIR}")]),a._v('/config/app.toml"')]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# add test keys to keychain")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# add a validator")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${UND_BIN}")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${DATA_DIR}")]),a._v(" keys "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" validator\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# add a test key for account 0. If v < 1.6.x, do not use account 0 in testing.")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${UND_BIN}")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${DATA_DIR}")]),a._v(" keys "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" t0\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# add a test key")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${UND_BIN}")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${DATA_DIR}")]),a._v(" keys "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" t1\n"),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${UND_BIN}")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${DATA_DIR}")]),a._v(" keys "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" t2\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# add accounts to genesis - in this order")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${UND_BIN}")]),a._v('"')]),a._v(" add-genesis-account t0 1000000000000nund "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${DATA_DIR}")]),a._v('"')]),a._v(" --keyring-backend "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${UND_BIN}")]),a._v('"')]),a._v(" add-genesis-account validator 1000000000000nund "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${DATA_DIR}")]),a._v('"')]),a._v(" --keyring-backend "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${UND_BIN}")]),a._v('"')]),a._v(" add-genesis-account t1 1000000000000nund "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${DATA_DIR}")]),a._v('"')]),a._v(" --keyring-backend "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${UND_BIN}")]),a._v('"')]),a._v(" add-genesis-account t2 1000000000000nund "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${DATA_DIR}")]),a._v('"')]),a._v(" --keyring-backend "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# validator gentx")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${UND_BIN}")]),a._v('"')]),a._v(" gentx validator 1000000nund "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${DATA_DIR}")]),a._v(" --chain-id"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${CHAIN_ID}")]),a._v('"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${UND_BIN}")]),a._v('"')]),a._v(" collect-gentxs "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${DATA_DIR}")]),a._v('"')]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"---------------------"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Your DevNet is ready!"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"---------------------"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Chain ID: '),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${CHAIN_ID}")]),a._v('"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Run the chain with:"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${UND_BIN}")]),a._v(" start --home "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${DATA_DIR}")]),a._v('"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),a._v("\n\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);