<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>VOR Full implementation example | Documentation</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/assets/common/unification_icon.png">
    <meta name="description" content="Documentation for all Unification Projects">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.84c1e0ec.css" as="style"><link rel="preload" href="/assets/js/app.55c2b24c.js" as="script"><link rel="preload" href="/assets/js/2.ab437a62.js" as="script"><link rel="preload" href="/assets/js/490.239d56df.js" as="script"><link rel="prefetch" href="/assets/js/10.f797ecd9.js"><link rel="prefetch" href="/assets/js/100.d23c260f.js"><link rel="prefetch" href="/assets/js/101.697a9fc6.js"><link rel="prefetch" href="/assets/js/102.77e1542e.js"><link rel="prefetch" href="/assets/js/103.e04f3622.js"><link rel="prefetch" href="/assets/js/104.fc3d2699.js"><link rel="prefetch" href="/assets/js/105.4209140c.js"><link rel="prefetch" href="/assets/js/106.f914ef34.js"><link rel="prefetch" href="/assets/js/107.f4fcd953.js"><link rel="prefetch" href="/assets/js/108.45299906.js"><link rel="prefetch" href="/assets/js/109.8fb77db8.js"><link rel="prefetch" href="/assets/js/11.6d5fc14b.js"><link rel="prefetch" href="/assets/js/110.4fcc754d.js"><link rel="prefetch" href="/assets/js/111.0f54c89f.js"><link rel="prefetch" href="/assets/js/112.751b77b6.js"><link rel="prefetch" href="/assets/js/113.f2674730.js"><link rel="prefetch" href="/assets/js/114.a970d141.js"><link rel="prefetch" href="/assets/js/115.6911a873.js"><link rel="prefetch" href="/assets/js/116.58bb58b8.js"><link rel="prefetch" href="/assets/js/117.67adbfaf.js"><link rel="prefetch" href="/assets/js/118.1ac7d1f5.js"><link rel="prefetch" href="/assets/js/119.907c2009.js"><link rel="prefetch" href="/assets/js/12.488d2691.js"><link rel="prefetch" href="/assets/js/120.78ec1e43.js"><link rel="prefetch" href="/assets/js/121.34768bfd.js"><link rel="prefetch" href="/assets/js/122.28ad2675.js"><link rel="prefetch" href="/assets/js/123.cee45229.js"><link rel="prefetch" href="/assets/js/124.898ef230.js"><link rel="prefetch" href="/assets/js/125.78514696.js"><link rel="prefetch" href="/assets/js/126.6fcab395.js"><link rel="prefetch" href="/assets/js/127.7e43b0c4.js"><link rel="prefetch" href="/assets/js/128.26056716.js"><link rel="prefetch" href="/assets/js/129.af7d083f.js"><link rel="prefetch" href="/assets/js/13.5863a224.js"><link rel="prefetch" href="/assets/js/130.e0d9871d.js"><link rel="prefetch" href="/assets/js/131.bfc1e322.js"><link rel="prefetch" href="/assets/js/132.326bbb7d.js"><link rel="prefetch" href="/assets/js/133.b8869b36.js"><link rel="prefetch" href="/assets/js/134.ab1cbbff.js"><link rel="prefetch" href="/assets/js/135.0a4301b5.js"><link rel="prefetch" href="/assets/js/136.622ac2d5.js"><link rel="prefetch" href="/assets/js/137.7aa637ef.js"><link rel="prefetch" href="/assets/js/138.7e4db295.js"><link rel="prefetch" href="/assets/js/139.83c0d16e.js"><link rel="prefetch" href="/assets/js/14.e9318db0.js"><link rel="prefetch" href="/assets/js/140.6a529d2c.js"><link rel="prefetch" href="/assets/js/141.1dff34ec.js"><link rel="prefetch" href="/assets/js/142.62e1f0d5.js"><link rel="prefetch" href="/assets/js/143.3d2c33b5.js"><link rel="prefetch" href="/assets/js/144.019d5f34.js"><link rel="prefetch" href="/assets/js/145.de7625e2.js"><link rel="prefetch" href="/assets/js/146.fd05b91a.js"><link rel="prefetch" href="/assets/js/147.2bfc3c30.js"><link rel="prefetch" href="/assets/js/148.79ece6ef.js"><link rel="prefetch" href="/assets/js/149.57b20e2b.js"><link rel="prefetch" href="/assets/js/15.af112e3a.js"><link rel="prefetch" href="/assets/js/150.3dc28da2.js"><link rel="prefetch" href="/assets/js/151.77e4b519.js"><link rel="prefetch" href="/assets/js/152.3ecb3808.js"><link rel="prefetch" href="/assets/js/153.281398a7.js"><link rel="prefetch" href="/assets/js/154.84ecafcb.js"><link rel="prefetch" href="/assets/js/155.23a8167d.js"><link rel="prefetch" href="/assets/js/156.ed4ed077.js"><link rel="prefetch" href="/assets/js/157.8fc13228.js"><link rel="prefetch" href="/assets/js/158.ee67a802.js"><link rel="prefetch" href="/assets/js/159.a0ac2211.js"><link rel="prefetch" href="/assets/js/16.f2333f86.js"><link rel="prefetch" href="/assets/js/160.12c6d31b.js"><link rel="prefetch" href="/assets/js/161.3b680ff5.js"><link rel="prefetch" href="/assets/js/162.9f3dccca.js"><link rel="prefetch" href="/assets/js/163.d49056ea.js"><link rel="prefetch" href="/assets/js/164.18c58e3c.js"><link rel="prefetch" href="/assets/js/165.4e1b2b64.js"><link rel="prefetch" href="/assets/js/166.0b96daca.js"><link rel="prefetch" href="/assets/js/167.2683b5ea.js"><link rel="prefetch" href="/assets/js/168.96666098.js"><link rel="prefetch" href="/assets/js/169.8cdb393c.js"><link rel="prefetch" href="/assets/js/17.5c70aec7.js"><link rel="prefetch" href="/assets/js/170.bb8cc9f9.js"><link rel="prefetch" href="/assets/js/171.b15476e6.js"><link rel="prefetch" href="/assets/js/172.8f320eb8.js"><link rel="prefetch" href="/assets/js/173.4f15636e.js"><link rel="prefetch" href="/assets/js/174.2b005098.js"><link rel="prefetch" href="/assets/js/175.ac011e5f.js"><link rel="prefetch" href="/assets/js/176.46928172.js"><link rel="prefetch" href="/assets/js/177.2831f806.js"><link rel="prefetch" href="/assets/js/178.9a99ec25.js"><link rel="prefetch" href="/assets/js/179.24bab213.js"><link rel="prefetch" href="/assets/js/18.75852914.js"><link rel="prefetch" href="/assets/js/180.8326cac8.js"><link rel="prefetch" href="/assets/js/181.86f0618d.js"><link rel="prefetch" href="/assets/js/182.0fa71e56.js"><link rel="prefetch" href="/assets/js/183.dce08053.js"><link rel="prefetch" href="/assets/js/184.d08febbf.js"><link rel="prefetch" href="/assets/js/185.c13dd0c4.js"><link rel="prefetch" href="/assets/js/186.d96a41b8.js"><link rel="prefetch" href="/assets/js/187.2eda092c.js"><link rel="prefetch" href="/assets/js/188.aba91559.js"><link rel="prefetch" href="/assets/js/189.13b39a77.js"><link rel="prefetch" href="/assets/js/19.1a0df0a4.js"><link rel="prefetch" href="/assets/js/190.8633d2f9.js"><link rel="prefetch" href="/assets/js/191.d8873cfe.js"><link rel="prefetch" href="/assets/js/192.32d45a13.js"><link rel="prefetch" href="/assets/js/193.6716b25f.js"><link rel="prefetch" href="/assets/js/194.206cab8d.js"><link rel="prefetch" href="/assets/js/195.363e09e7.js"><link rel="prefetch" href="/assets/js/196.0ce2aa35.js"><link rel="prefetch" href="/assets/js/197.0d9f56a8.js"><link rel="prefetch" href="/assets/js/198.910cb505.js"><link rel="prefetch" href="/assets/js/199.38193e3e.js"><link rel="prefetch" href="/assets/js/20.0faada38.js"><link rel="prefetch" href="/assets/js/200.750b57ef.js"><link rel="prefetch" href="/assets/js/201.85cf4ecc.js"><link rel="prefetch" href="/assets/js/202.dcde437a.js"><link rel="prefetch" href="/assets/js/203.6457dfde.js"><link rel="prefetch" href="/assets/js/204.b7ce92db.js"><link rel="prefetch" href="/assets/js/205.62368b48.js"><link rel="prefetch" href="/assets/js/206.f8d4f4e2.js"><link rel="prefetch" href="/assets/js/207.042c5a15.js"><link rel="prefetch" href="/assets/js/208.204c7491.js"><link rel="prefetch" href="/assets/js/209.42300afd.js"><link rel="prefetch" href="/assets/js/21.950e731d.js"><link rel="prefetch" href="/assets/js/210.a80dbb67.js"><link rel="prefetch" href="/assets/js/211.bf285d3e.js"><link rel="prefetch" href="/assets/js/212.1dfe4e92.js"><link rel="prefetch" href="/assets/js/213.e37cab4a.js"><link rel="prefetch" href="/assets/js/214.17392e99.js"><link rel="prefetch" href="/assets/js/215.78ea36e8.js"><link rel="prefetch" href="/assets/js/216.3d2659a6.js"><link rel="prefetch" href="/assets/js/217.d5679e07.js"><link rel="prefetch" href="/assets/js/218.4c1db071.js"><link rel="prefetch" href="/assets/js/219.57a93d8b.js"><link rel="prefetch" href="/assets/js/22.d02db938.js"><link rel="prefetch" href="/assets/js/220.95cadbd3.js"><link rel="prefetch" href="/assets/js/221.07c90cb3.js"><link rel="prefetch" href="/assets/js/222.739d28c3.js"><link rel="prefetch" href="/assets/js/223.c090298a.js"><link rel="prefetch" href="/assets/js/224.ffeb6eb8.js"><link rel="prefetch" href="/assets/js/225.474e3d8b.js"><link rel="prefetch" href="/assets/js/226.fae5e268.js"><link rel="prefetch" href="/assets/js/227.f520cf15.js"><link rel="prefetch" href="/assets/js/228.0d1d56d0.js"><link rel="prefetch" href="/assets/js/229.06263fa0.js"><link rel="prefetch" href="/assets/js/23.0e19e55e.js"><link rel="prefetch" href="/assets/js/230.17bd1ef9.js"><link rel="prefetch" href="/assets/js/231.e83000cf.js"><link rel="prefetch" href="/assets/js/232.55b497ae.js"><link rel="prefetch" href="/assets/js/233.d18739ce.js"><link rel="prefetch" href="/assets/js/234.f1edc34a.js"><link rel="prefetch" href="/assets/js/235.5f095daa.js"><link rel="prefetch" href="/assets/js/236.51f301e1.js"><link rel="prefetch" href="/assets/js/237.6b9bbc9f.js"><link rel="prefetch" href="/assets/js/238.0704e3ef.js"><link rel="prefetch" href="/assets/js/239.917ef3ee.js"><link rel="prefetch" href="/assets/js/24.ab664485.js"><link rel="prefetch" href="/assets/js/240.d4ae46c1.js"><link rel="prefetch" href="/assets/js/241.8c079f28.js"><link rel="prefetch" href="/assets/js/242.d1e8b445.js"><link rel="prefetch" href="/assets/js/243.fcb356ca.js"><link rel="prefetch" href="/assets/js/244.2490e1cc.js"><link rel="prefetch" href="/assets/js/245.263579ae.js"><link rel="prefetch" href="/assets/js/246.37508d50.js"><link rel="prefetch" href="/assets/js/247.8126a69f.js"><link rel="prefetch" href="/assets/js/248.fbc71ac3.js"><link rel="prefetch" href="/assets/js/249.91aa5fd9.js"><link rel="prefetch" href="/assets/js/25.cb9b4715.js"><link rel="prefetch" href="/assets/js/250.e0deb264.js"><link rel="prefetch" href="/assets/js/251.2f50fabf.js"><link rel="prefetch" href="/assets/js/252.2f889351.js"><link rel="prefetch" href="/assets/js/253.94ae9eec.js"><link rel="prefetch" href="/assets/js/254.bdfc01aa.js"><link rel="prefetch" href="/assets/js/255.8e8c4a86.js"><link rel="prefetch" href="/assets/js/256.b5468414.js"><link rel="prefetch" href="/assets/js/257.af9a80cf.js"><link rel="prefetch" href="/assets/js/258.9f8e3972.js"><link rel="prefetch" href="/assets/js/259.b85072e9.js"><link rel="prefetch" href="/assets/js/26.386679aa.js"><link rel="prefetch" href="/assets/js/260.7e0c705e.js"><link rel="prefetch" href="/assets/js/261.33fe4c4b.js"><link rel="prefetch" href="/assets/js/262.87e3e9d5.js"><link rel="prefetch" href="/assets/js/263.6d89a90a.js"><link rel="prefetch" href="/assets/js/264.5cde8d8b.js"><link rel="prefetch" href="/assets/js/265.328d8107.js"><link rel="prefetch" href="/assets/js/266.5c5c26e8.js"><link rel="prefetch" href="/assets/js/267.629551e4.js"><link rel="prefetch" href="/assets/js/268.f1697920.js"><link rel="prefetch" href="/assets/js/269.4ad0e54a.js"><link rel="prefetch" href="/assets/js/27.180868e6.js"><link rel="prefetch" href="/assets/js/270.12a6e0db.js"><link rel="prefetch" href="/assets/js/271.15bf6cdf.js"><link rel="prefetch" href="/assets/js/272.61fbb4a9.js"><link rel="prefetch" href="/assets/js/273.f9791c77.js"><link rel="prefetch" href="/assets/js/274.5fd7dbec.js"><link rel="prefetch" href="/assets/js/275.7b98c86d.js"><link rel="prefetch" href="/assets/js/276.985733c7.js"><link rel="prefetch" href="/assets/js/277.00090ed0.js"><link rel="prefetch" href="/assets/js/278.3ceedc16.js"><link rel="prefetch" href="/assets/js/279.3e1c1cfc.js"><link rel="prefetch" href="/assets/js/28.339c11a7.js"><link rel="prefetch" href="/assets/js/280.94924e81.js"><link rel="prefetch" href="/assets/js/281.a02d172b.js"><link rel="prefetch" href="/assets/js/282.c19c7094.js"><link rel="prefetch" href="/assets/js/283.1b0ba9cb.js"><link rel="prefetch" href="/assets/js/284.ec878a6c.js"><link rel="prefetch" href="/assets/js/285.394ffa31.js"><link rel="prefetch" href="/assets/js/286.5bd63aec.js"><link rel="prefetch" href="/assets/js/287.3246bf4a.js"><link rel="prefetch" href="/assets/js/288.93b85d04.js"><link rel="prefetch" href="/assets/js/289.8ca5f550.js"><link rel="prefetch" href="/assets/js/29.5c0cd288.js"><link rel="prefetch" href="/assets/js/290.7b237d5c.js"><link rel="prefetch" href="/assets/js/291.ea8ab05c.js"><link rel="prefetch" href="/assets/js/292.3973d5a5.js"><link rel="prefetch" href="/assets/js/293.476236e6.js"><link rel="prefetch" href="/assets/js/294.219df76d.js"><link rel="prefetch" href="/assets/js/295.9b6a088c.js"><link rel="prefetch" href="/assets/js/296.9ca9ddfb.js"><link rel="prefetch" href="/assets/js/297.800e5259.js"><link rel="prefetch" href="/assets/js/298.5f6882d9.js"><link rel="prefetch" href="/assets/js/299.48a26893.js"><link rel="prefetch" href="/assets/js/3.b0999c95.js"><link rel="prefetch" href="/assets/js/30.a6ff75f8.js"><link rel="prefetch" href="/assets/js/300.96762618.js"><link rel="prefetch" href="/assets/js/301.2fdc8170.js"><link rel="prefetch" href="/assets/js/302.474a9577.js"><link rel="prefetch" href="/assets/js/303.bb70fdb7.js"><link rel="prefetch" href="/assets/js/304.43e2fd1c.js"><link rel="prefetch" href="/assets/js/305.3373c958.js"><link rel="prefetch" href="/assets/js/306.d6c38460.js"><link rel="prefetch" href="/assets/js/307.dd256942.js"><link rel="prefetch" href="/assets/js/308.adc055e1.js"><link rel="prefetch" href="/assets/js/309.3f20181f.js"><link rel="prefetch" href="/assets/js/31.a29ed265.js"><link rel="prefetch" href="/assets/js/310.07ba00c5.js"><link rel="prefetch" href="/assets/js/311.c114ed04.js"><link rel="prefetch" href="/assets/js/312.fc9bf712.js"><link rel="prefetch" href="/assets/js/313.d83d02eb.js"><link rel="prefetch" href="/assets/js/314.c705f7e1.js"><link rel="prefetch" href="/assets/js/315.10b12dd9.js"><link rel="prefetch" href="/assets/js/316.3cc6b55b.js"><link rel="prefetch" href="/assets/js/317.2c62de69.js"><link rel="prefetch" href="/assets/js/318.c455b6ad.js"><link rel="prefetch" href="/assets/js/319.9e6a28ce.js"><link rel="prefetch" href="/assets/js/32.80f5f353.js"><link rel="prefetch" href="/assets/js/320.d5751229.js"><link rel="prefetch" href="/assets/js/321.1d7cab47.js"><link rel="prefetch" href="/assets/js/322.d6cafb14.js"><link rel="prefetch" href="/assets/js/323.59c70b72.js"><link rel="prefetch" href="/assets/js/324.d5056a18.js"><link rel="prefetch" href="/assets/js/325.edf3da61.js"><link rel="prefetch" href="/assets/js/326.d8568c24.js"><link rel="prefetch" href="/assets/js/327.fb20c2b5.js"><link rel="prefetch" href="/assets/js/328.e017d7aa.js"><link rel="prefetch" href="/assets/js/329.f341a3f6.js"><link rel="prefetch" href="/assets/js/33.fe06faa8.js"><link rel="prefetch" href="/assets/js/330.685bd02d.js"><link rel="prefetch" href="/assets/js/331.4b2e2186.js"><link rel="prefetch" href="/assets/js/332.c1331632.js"><link rel="prefetch" href="/assets/js/333.85a2ec6d.js"><link rel="prefetch" href="/assets/js/334.f2deda70.js"><link rel="prefetch" href="/assets/js/335.ffb12bff.js"><link rel="prefetch" href="/assets/js/336.0f4ae65d.js"><link rel="prefetch" href="/assets/js/337.a557932d.js"><link rel="prefetch" href="/assets/js/338.46b00201.js"><link rel="prefetch" href="/assets/js/339.a1c6748b.js"><link rel="prefetch" href="/assets/js/34.247f526e.js"><link rel="prefetch" href="/assets/js/340.ca11ff1b.js"><link rel="prefetch" href="/assets/js/341.88683612.js"><link rel="prefetch" href="/assets/js/342.5592a00d.js"><link rel="prefetch" href="/assets/js/343.50b85739.js"><link rel="prefetch" href="/assets/js/344.63d22937.js"><link rel="prefetch" href="/assets/js/345.cc48373d.js"><link rel="prefetch" href="/assets/js/346.3073b314.js"><link rel="prefetch" href="/assets/js/347.8c153e29.js"><link rel="prefetch" href="/assets/js/348.9f63d376.js"><link rel="prefetch" href="/assets/js/349.0ab170ce.js"><link rel="prefetch" href="/assets/js/35.625cde41.js"><link rel="prefetch" href="/assets/js/350.58a3ed04.js"><link rel="prefetch" href="/assets/js/351.3bc883c7.js"><link rel="prefetch" href="/assets/js/352.02bb4ade.js"><link rel="prefetch" href="/assets/js/353.41d7bd4b.js"><link rel="prefetch" href="/assets/js/354.6811e095.js"><link rel="prefetch" href="/assets/js/355.6d7c951f.js"><link rel="prefetch" href="/assets/js/356.86694a46.js"><link rel="prefetch" href="/assets/js/357.4f30b833.js"><link rel="prefetch" href="/assets/js/358.cd886d19.js"><link rel="prefetch" href="/assets/js/359.092c9174.js"><link rel="prefetch" href="/assets/js/36.0d9a01b4.js"><link rel="prefetch" href="/assets/js/360.7dfe898b.js"><link rel="prefetch" href="/assets/js/361.ad847957.js"><link rel="prefetch" href="/assets/js/362.71b44d56.js"><link rel="prefetch" href="/assets/js/363.436fa35b.js"><link rel="prefetch" href="/assets/js/364.b381072f.js"><link rel="prefetch" href="/assets/js/365.8f68b591.js"><link rel="prefetch" href="/assets/js/366.9cfbbb22.js"><link rel="prefetch" href="/assets/js/367.a858864e.js"><link rel="prefetch" href="/assets/js/368.d588290d.js"><link rel="prefetch" href="/assets/js/369.5c95e220.js"><link rel="prefetch" href="/assets/js/37.a2eaac87.js"><link rel="prefetch" href="/assets/js/370.4b6b0fc5.js"><link rel="prefetch" href="/assets/js/371.c7c61fe4.js"><link rel="prefetch" href="/assets/js/372.7f9c56e4.js"><link rel="prefetch" href="/assets/js/373.52cd4bc3.js"><link rel="prefetch" href="/assets/js/374.6472f312.js"><link rel="prefetch" href="/assets/js/375.f14e3d47.js"><link rel="prefetch" href="/assets/js/376.6dd85637.js"><link rel="prefetch" href="/assets/js/377.7b4657d8.js"><link rel="prefetch" href="/assets/js/378.5cd48724.js"><link rel="prefetch" href="/assets/js/379.ea8b9913.js"><link rel="prefetch" href="/assets/js/38.39e356e9.js"><link rel="prefetch" href="/assets/js/380.87aa201e.js"><link rel="prefetch" href="/assets/js/381.9912a0a0.js"><link rel="prefetch" href="/assets/js/382.c28c04cf.js"><link rel="prefetch" href="/assets/js/383.b24eb794.js"><link rel="prefetch" href="/assets/js/384.ebc1ed91.js"><link rel="prefetch" href="/assets/js/385.7f59635a.js"><link rel="prefetch" href="/assets/js/386.8853e244.js"><link rel="prefetch" href="/assets/js/387.2a25b0cb.js"><link rel="prefetch" href="/assets/js/388.3ec36170.js"><link rel="prefetch" href="/assets/js/389.6f373646.js"><link rel="prefetch" href="/assets/js/39.f6ab8ed8.js"><link rel="prefetch" href="/assets/js/390.1acf1d49.js"><link rel="prefetch" href="/assets/js/391.8c716fb4.js"><link rel="prefetch" href="/assets/js/392.30e99f80.js"><link rel="prefetch" href="/assets/js/393.6d77a01b.js"><link rel="prefetch" href="/assets/js/394.9d0999cb.js"><link rel="prefetch" href="/assets/js/395.7823673d.js"><link rel="prefetch" href="/assets/js/396.09b4086c.js"><link rel="prefetch" href="/assets/js/397.c84bb99a.js"><link rel="prefetch" href="/assets/js/398.d5a3b316.js"><link rel="prefetch" href="/assets/js/399.4d2e9848.js"><link rel="prefetch" href="/assets/js/4.0e60897e.js"><link rel="prefetch" href="/assets/js/40.06a4077c.js"><link rel="prefetch" href="/assets/js/400.5f330dff.js"><link rel="prefetch" href="/assets/js/401.cb62db7a.js"><link rel="prefetch" href="/assets/js/402.05e4368e.js"><link rel="prefetch" href="/assets/js/403.97ed7ed7.js"><link rel="prefetch" href="/assets/js/404.eb16d4dd.js"><link rel="prefetch" href="/assets/js/405.80c54f11.js"><link rel="prefetch" href="/assets/js/406.86b0d585.js"><link rel="prefetch" href="/assets/js/407.a9bda3f2.js"><link rel="prefetch" href="/assets/js/408.88ca6d6f.js"><link rel="prefetch" href="/assets/js/409.35f4fa94.js"><link rel="prefetch" href="/assets/js/41.e1f61307.js"><link rel="prefetch" href="/assets/js/410.1e9c40cb.js"><link rel="prefetch" href="/assets/js/411.e9a01883.js"><link rel="prefetch" href="/assets/js/412.6b4cc2e3.js"><link rel="prefetch" href="/assets/js/413.fecdea7d.js"><link rel="prefetch" href="/assets/js/414.659257c2.js"><link rel="prefetch" href="/assets/js/415.8ff938b8.js"><link rel="prefetch" href="/assets/js/416.f1799eea.js"><link rel="prefetch" href="/assets/js/417.044be3e3.js"><link rel="prefetch" href="/assets/js/418.62fcc746.js"><link rel="prefetch" href="/assets/js/419.7125c777.js"><link rel="prefetch" href="/assets/js/42.3db3f9b2.js"><link rel="prefetch" href="/assets/js/420.e6620f12.js"><link rel="prefetch" href="/assets/js/421.d404590e.js"><link rel="prefetch" href="/assets/js/422.897afb59.js"><link rel="prefetch" href="/assets/js/423.96f50d78.js"><link rel="prefetch" href="/assets/js/424.29382d0e.js"><link rel="prefetch" href="/assets/js/425.66afa292.js"><link rel="prefetch" href="/assets/js/426.92568750.js"><link rel="prefetch" href="/assets/js/427.3ca4670a.js"><link rel="prefetch" href="/assets/js/428.8497a5bd.js"><link rel="prefetch" href="/assets/js/429.cb3ab7f8.js"><link rel="prefetch" href="/assets/js/43.6836a617.js"><link rel="prefetch" href="/assets/js/430.654a394d.js"><link rel="prefetch" href="/assets/js/431.775f37ad.js"><link rel="prefetch" href="/assets/js/432.99c8e42d.js"><link rel="prefetch" href="/assets/js/433.bfac4efb.js"><link rel="prefetch" href="/assets/js/434.030a69c5.js"><link rel="prefetch" href="/assets/js/435.fd4ef728.js"><link rel="prefetch" href="/assets/js/436.f6ec588d.js"><link rel="prefetch" href="/assets/js/437.06fbdb14.js"><link rel="prefetch" href="/assets/js/438.afed2fbf.js"><link rel="prefetch" href="/assets/js/439.53e86a96.js"><link rel="prefetch" href="/assets/js/44.574643f5.js"><link rel="prefetch" href="/assets/js/440.5e14b045.js"><link rel="prefetch" href="/assets/js/441.820cebb6.js"><link rel="prefetch" href="/assets/js/442.d11d086a.js"><link rel="prefetch" href="/assets/js/443.a2305aed.js"><link rel="prefetch" href="/assets/js/444.25485515.js"><link rel="prefetch" href="/assets/js/445.69308f4a.js"><link rel="prefetch" href="/assets/js/446.b4c65d97.js"><link rel="prefetch" href="/assets/js/447.9388c357.js"><link rel="prefetch" href="/assets/js/448.0391a555.js"><link rel="prefetch" href="/assets/js/449.3e502b7f.js"><link rel="prefetch" href="/assets/js/45.64ebbc6d.js"><link rel="prefetch" href="/assets/js/450.e4170521.js"><link rel="prefetch" href="/assets/js/451.18581977.js"><link rel="prefetch" href="/assets/js/452.3de895ca.js"><link rel="prefetch" href="/assets/js/453.35983cc7.js"><link rel="prefetch" href="/assets/js/454.1038a7ee.js"><link rel="prefetch" href="/assets/js/455.7a6cddf2.js"><link rel="prefetch" href="/assets/js/456.6d912b5f.js"><link rel="prefetch" href="/assets/js/457.dedf0770.js"><link rel="prefetch" href="/assets/js/458.896babdd.js"><link rel="prefetch" href="/assets/js/459.636ce30d.js"><link rel="prefetch" href="/assets/js/46.7439161f.js"><link rel="prefetch" href="/assets/js/460.510ee695.js"><link rel="prefetch" href="/assets/js/461.4ac4f02c.js"><link rel="prefetch" href="/assets/js/462.24f57699.js"><link rel="prefetch" href="/assets/js/463.122800d1.js"><link rel="prefetch" href="/assets/js/464.717c391c.js"><link rel="prefetch" href="/assets/js/465.e19682c9.js"><link rel="prefetch" href="/assets/js/466.4119159d.js"><link rel="prefetch" href="/assets/js/467.c379908f.js"><link rel="prefetch" href="/assets/js/468.42059caa.js"><link rel="prefetch" href="/assets/js/469.ab8052a8.js"><link rel="prefetch" href="/assets/js/47.b0d9a28f.js"><link rel="prefetch" href="/assets/js/470.c8846893.js"><link rel="prefetch" href="/assets/js/471.33c17acb.js"><link rel="prefetch" href="/assets/js/472.879b43fb.js"><link rel="prefetch" href="/assets/js/473.cf73fcbb.js"><link rel="prefetch" href="/assets/js/474.41d3b68f.js"><link rel="prefetch" href="/assets/js/475.3f96c468.js"><link rel="prefetch" href="/assets/js/476.19159576.js"><link rel="prefetch" href="/assets/js/477.3f180bc0.js"><link rel="prefetch" href="/assets/js/478.d3d0059f.js"><link rel="prefetch" href="/assets/js/479.d7fce226.js"><link rel="prefetch" href="/assets/js/48.0f6055df.js"><link rel="prefetch" href="/assets/js/480.5cab8349.js"><link rel="prefetch" href="/assets/js/481.38f3b847.js"><link rel="prefetch" href="/assets/js/482.8c612ccb.js"><link rel="prefetch" href="/assets/js/483.0ebdf993.js"><link rel="prefetch" href="/assets/js/484.83103ece.js"><link rel="prefetch" href="/assets/js/485.9669431d.js"><link rel="prefetch" href="/assets/js/486.45187e09.js"><link rel="prefetch" href="/assets/js/487.ccaa8640.js"><link rel="prefetch" href="/assets/js/488.b2dd3055.js"><link rel="prefetch" href="/assets/js/489.c1146793.js"><link rel="prefetch" href="/assets/js/49.a7f24c83.js"><link rel="prefetch" href="/assets/js/491.0ec5a2e6.js"><link rel="prefetch" href="/assets/js/492.8bf8dff8.js"><link rel="prefetch" href="/assets/js/493.68d5f082.js"><link rel="prefetch" href="/assets/js/494.fdef18fd.js"><link rel="prefetch" href="/assets/js/5.b553833b.js"><link rel="prefetch" href="/assets/js/50.fb734d94.js"><link rel="prefetch" href="/assets/js/51.d7458c94.js"><link rel="prefetch" href="/assets/js/52.1ba49201.js"><link rel="prefetch" href="/assets/js/53.9822bfb4.js"><link rel="prefetch" href="/assets/js/54.0d0b2de4.js"><link rel="prefetch" href="/assets/js/55.62467521.js"><link rel="prefetch" href="/assets/js/56.fe6cda53.js"><link rel="prefetch" href="/assets/js/57.9f146707.js"><link rel="prefetch" href="/assets/js/58.17b96917.js"><link rel="prefetch" href="/assets/js/59.79f271e5.js"><link rel="prefetch" href="/assets/js/6.c4f19222.js"><link rel="prefetch" href="/assets/js/60.75c1128e.js"><link rel="prefetch" href="/assets/js/61.cbe9a6f0.js"><link rel="prefetch" href="/assets/js/62.30a2817d.js"><link rel="prefetch" href="/assets/js/63.12838005.js"><link rel="prefetch" href="/assets/js/64.3f3d7f46.js"><link rel="prefetch" href="/assets/js/65.a2d551a0.js"><link rel="prefetch" href="/assets/js/66.1fe7de46.js"><link rel="prefetch" href="/assets/js/67.7386f21d.js"><link rel="prefetch" href="/assets/js/68.fbc638ae.js"><link rel="prefetch" href="/assets/js/69.24ef14d8.js"><link rel="prefetch" href="/assets/js/7.2108f1a9.js"><link rel="prefetch" href="/assets/js/70.3085318f.js"><link rel="prefetch" href="/assets/js/71.2a9d6c13.js"><link rel="prefetch" href="/assets/js/72.8d987add.js"><link rel="prefetch" href="/assets/js/73.eeb114c6.js"><link rel="prefetch" href="/assets/js/74.700c9194.js"><link rel="prefetch" href="/assets/js/75.de433090.js"><link rel="prefetch" href="/assets/js/76.559a4ec7.js"><link rel="prefetch" href="/assets/js/77.7da7e4ed.js"><link rel="prefetch" href="/assets/js/78.76cdf844.js"><link rel="prefetch" href="/assets/js/79.bb387556.js"><link rel="prefetch" href="/assets/js/8.0e3c03b6.js"><link rel="prefetch" href="/assets/js/80.cced463e.js"><link rel="prefetch" href="/assets/js/81.2eda55cd.js"><link rel="prefetch" href="/assets/js/82.d4363e9b.js"><link rel="prefetch" href="/assets/js/83.f6acc01a.js"><link rel="prefetch" href="/assets/js/84.885bdd16.js"><link rel="prefetch" href="/assets/js/85.d2a50185.js"><link rel="prefetch" href="/assets/js/86.4f6cdab1.js"><link rel="prefetch" href="/assets/js/87.ece1d73d.js"><link rel="prefetch" href="/assets/js/88.b9a26b2d.js"><link rel="prefetch" href="/assets/js/89.e69c0dbe.js"><link rel="prefetch" href="/assets/js/9.21d1b00b.js"><link rel="prefetch" href="/assets/js/90.5aecf157.js"><link rel="prefetch" href="/assets/js/91.d24c5813.js"><link rel="prefetch" href="/assets/js/92.3a8634c1.js"><link rel="prefetch" href="/assets/js/93.ea73a496.js"><link rel="prefetch" href="/assets/js/94.e9826970.js"><link rel="prefetch" href="/assets/js/95.396c386e.js"><link rel="prefetch" href="/assets/js/96.861721d5.js"><link rel="prefetch" href="/assets/js/97.c839a5f1.js"><link rel="prefetch" href="/assets/js/98.981eddb7.js"><link rel="prefetch" href="/assets/js/99.9049d080.js">
    <link rel="stylesheet" href="/assets/css/0.styles.84c1e0ec.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/common/unification_logoblack.png" alt="Documentation" class="logo"> <span class="site-name can-hide">Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/mainchain/" class="nav-link">
  Mainchain
</a></div><div class="nav-item"><a href="/vor/" class="nav-link router-link-active">
  VOR
</a></div><div class="nav-item"><a href="/ooo/" class="nav-link">
  OoO
</a></div><div class="nav-item"><a href="/unode/" class="nav-link">
  UNoDE
</a></div> <a href="https://github.com/unification-com/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/mainchain/" class="nav-link">
  Mainchain
</a></div><div class="nav-item"><a href="/vor/" class="nav-link router-link-active">
  VOR
</a></div><div class="nav-item"><a href="/ooo/" class="nav-link">
  OoO
</a></div><div class="nav-item"><a href="/unode/" class="nav-link">
  UNoDE
</a></div> <a href="https://github.com/unification-com/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/vor/" aria-current="page" class="sidebar-link">VOR Introduction</a></li><li><a href="/vor/contracts.html" class="sidebar-link">VOR Contract Addresses</a></li><li><a href="/vor/providers.html" class="sidebar-link">VOR Providers</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>VOR Guides</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vor/guide/" aria-current="page" class="sidebar-link">VOR Complete Deployment Guide</a></li><li><a href="/vor/guide/quickstart.html" class="sidebar-link">VOR Quickstart</a></li><li><a href="/vor/guide/implementation.html" aria-current="page" class="active sidebar-link">VOR Full implementation example</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vor/guide/implementation.html#initial-contract-skeleton" class="sidebar-link">Initial contract skeleton</a></li><li class="sidebar-sub-header"><a href="/vor/guide/implementation.html#adding-some-functionality" class="sidebar-link">Adding some functionality</a></li><li class="sidebar-sub-header"><a href="/vor/guide/implementation.html#monster-player-related-functions" class="sidebar-link">Monster &amp; Player related functions</a></li><li class="sidebar-sub-header"><a href="/vor/guide/implementation.html#implementing-vor-for-randomness" class="sidebar-link">Implementing VOR for Randomness</a></li><li class="sidebar-sub-header"><a href="/vor/guide/implementation.html#helper-function-s" class="sidebar-link">Helper function(s)</a></li><li class="sidebar-sub-header"><a href="/vor/guide/implementation.html#final-contract" class="sidebar-link">Final contract</a></li></ul></li><li><a href="/vor/guide/interaction.html" class="sidebar-link">VOR Interacting with the DnD example</a></li><li><a href="/vor/guide/advanced.html" class="sidebar-link">Advanced topics</a></li><li><a href="/vor/guide/oracle.html" class="sidebar-link">VOR Running an Oracle</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>VOR Demos</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>VOR Contract Docs</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vor-full-implementation-example"><a href="#vor-full-implementation-example" class="header-anchor">#</a> VOR Full implementation example</h1> <p>In this guide, we'll run through a more detailed example and show you how to
implement a simplified DnD D20 for fighting monsters and calculating hits.</p> <p>The resulting contract will:</p> <ul><li>allow any player to &quot;roll for hit&quot; against a selected monster, using a VOR
request for the D20 roll</li> <li>allow the owner to add up to 20 monsters</li> <li>allow any player to register their STR modifier</li> <li>allow the contract owner to implement and run some optional helper functions
included in the <code>VORConsumerBase</code> contract.</li></ul> <p>Players calling the <code>rollToHit</code> function will pay their own xFUNDMOCK fees.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>This guide assumes you have read through the <a href="/vor/guide/quickstart.html">quickstart</a>
and :</p> <ol><li>set up your development and NodeJS environment</li> <li>initialised a new project (using npm, and Truffle/Hardhat etc.)</li> <li>installed the required <code>@unification-com/xfund-vor</code> and
supplementary <code>@openzeppelin/contracts</code> packages using
<code>npm</code>/<code>yarn</code></li></ol></div> <p>The full, final contract can be seen in our <code>vor-demos</code> Github repo:
<a href="https://github.com/unification-com/vor-demos/blob/main/contracts/DnD.sol" target="_blank" rel="noopener noreferrer">https://github.com/unification-com/vor-demos/blob/main/contracts/DnD.sol<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="initial-contract-skeleton"><a href="#initial-contract-skeleton" class="header-anchor">#</a> Initial contract skeleton</h2> <p>We'll start with a simple contract outline - some function stubs and the constructor:</p> <p>Create <code>contracts/DnD.sol</code>. All future edits will be in this file</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token comment">// SPDX-License-Identifier: MIT</span>
<span class="token keyword">pragma</span> <span class="token keyword">solidity</span> <span class="token number">0.6</span><span class="token number">.12</span><span class="token punctuation">;</span>
<span class="token keyword">pragma</span> experimental ABIEncoderV2<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token string">&quot;@openzeppelin/contracts/math/SafeMath.sol&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;@openzeppelin/contracts/access/Ownable.sol&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;@unification-com/xfund-vor/contracts/VORConsumerBase.sol&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">contract</span> <span class="token class-name">DnD</span> <span class="token keyword">is</span> Ownable<span class="token punctuation">,</span> VORConsumerBase <span class="token punctuation">{</span>
    <span class="token keyword">using</span> <span class="token class-name">SafeMath</span> <span class="token keyword">for</span> <span class="token builtin">uint256</span><span class="token punctuation">;</span>

    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token builtin">address</span> _vorCoordinator<span class="token punctuation">,</span> <span class="token builtin">address</span> _xfund<span class="token punctuation">)</span>
    <span class="token keyword">public</span>
    <span class="token function">VORConsumerBase</span><span class="token punctuation">(</span>_vorCoordinator<span class="token punctuation">,</span> _xfund<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">rollForHit</span><span class="token punctuation">(</span>
        <span class="token builtin">uint256</span> _monsterId<span class="token punctuation">,</span> 
        <span class="token builtin">uint256</span> _seed<span class="token punctuation">,</span> 
        <span class="token builtin">bytes32</span> _keyHash<span class="token punctuation">,</span> 
        <span class="token builtin">uint256</span> _fee
    <span class="token punctuation">)</span> 
    <span class="token keyword">external</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token builtin">bytes32</span> requestId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        requestId <span class="token operator">=</span> <span class="token function">requestRandomness</span><span class="token punctuation">(</span>_keyHash<span class="token punctuation">,</span> _fee<span class="token punctuation">,</span> _seed<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">fulfillRandomness</span><span class="token punctuation">(</span><span class="token builtin">bytes32</span> _requestId<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _randomness<span class="token punctuation">)</span> 
    <span class="token keyword">internal</span> override <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>We're importing the <code>VORConsumerBase</code>, and some helper contracts from the
awesome OpenZeppelin suite, and we have the three most basic functions
required to implement VOR:</p> <ol><li>a <code>constructor</code> which passes the addresses of the <code>VORCoordinatior</code> and
<code>xFUND</code> to the <code>VORConsumerBase</code>.</li> <li>a <code>rollForHit</code> function which will ultimately call the <code>requestRandomness</code>
function in <code>VORConsumerBase</code>.</li> <li>a <code>fulfillRandomness</code> which overrides the same function <code>VORConsumerBase</code>, and
which will be called by the VOR Oracle via the <code>VORCoordinator</code> smart contract.</li></ol> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>the <code>_keyHash</code> and <code>_fee</code> args passed to <code>rollForHit</code> function can be
set/retrieved elsewhere in the contract, and passed to the <code>requestRandomness</code>
function. Your request function does not necessarily require these arguments,
but the values do ultimately need passing to <code>requestRandomness</code></p> <p><code>_seed</code> however, should be generated for each individual request.</p></div> <h2 id="adding-some-functionality"><a href="#adding-some-functionality" class="header-anchor">#</a> Adding some functionality</h2> <p>The above contract isn't very useful. While it requests a random number, it
doesn't actually do anything with it. Let's add a few functions
that can make use of the random number, and some support variables, structures
and events.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><em>None of the following variables or events are required by VOR</em>.
They are required only for the DnD contract's own functionality
and for the purpose of demoing VOR.</p></div> <h3 id="contract-variables"><a href="#contract-variables" class="header-anchor">#</a> Contract variables</h3> <p>We'll need a couple of simple contract variables to keep track of our monsters:</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code>    <span class="token comment">// keep track of the monsters added</span>
    <span class="token builtin">uint256</span> <span class="token keyword">public</span> currentMonsterId<span class="token punctuation">;</span>

    <span class="token comment">// super simple monster stats</span>
    <span class="token keyword">struct</span> <span class="token class-name">Monster</span> <span class="token punctuation">{</span>
        <span class="token builtin">string</span> name<span class="token punctuation">;</span>
        <span class="token builtin">uint256</span> ac<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">struct</span> <span class="token class-name">Result</span> <span class="token punctuation">{</span>
        <span class="token builtin">uint256</span> roll<span class="token punctuation">;</span>
        <span class="token builtin">uint256</span> modified<span class="token punctuation">;</span>
        <span class="token builtin">string</span> result<span class="token punctuation">;</span>
        <span class="token builtin">bool</span> isRolling<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>Nothing complex here - each monster added will be assgined an incremental
ID <code>currentMonsterId</code>, and have some simple stats associated with it.
<code>Result</code> will be used to store that last result for a player/monster.</p> <h3 id="mappings"><a href="#mappings" class="header-anchor">#</a> Mappings</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code>    <span class="token comment">// monsters held in the contract</span>
    <span class="token keyword">mapping</span> <span class="token punctuation">(</span><span class="token builtin">uint256</span> <span class="token operator">=&gt;</span> Monster<span class="token punctuation">)</span> <span class="token keyword">public</span> monsters<span class="token punctuation">;</span>
    <span class="token comment">// player STR modifiers</span>
    <span class="token keyword">mapping</span> <span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token operator">=&gt;</span> <span class="token builtin">uint256</span><span class="token punctuation">)</span> <span class="token keyword">public</span> strModifiers<span class="token punctuation">;</span>
    <span class="token comment">// map request IDs to monster IDs</span>
    <span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">bytes32</span> <span class="token operator">=&gt;</span> <span class="token builtin">uint256</span><span class="token punctuation">)</span> <span class="token keyword">public</span> requestIdToMonsterId<span class="token punctuation">;</span>
    <span class="token comment">// map request IDs to player addresses, to retrieve STR modifiers</span>
    <span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">bytes32</span> <span class="token operator">=&gt;</span> <span class="token builtin">address</span><span class="token punctuation">)</span> <span class="token keyword">public</span> requestIdToAddress<span class="token punctuation">;</span>
    <span class="token comment">// store last [player][monster] results</span>
    <span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token operator">=&gt;</span> <span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> <span class="token operator">=&gt;</span> Result<span class="token punctuation">)</span><span class="token punctuation">)</span> lastResult<span class="token punctuation">;</span>
</code></pre></div><ul><li><code>monsters</code> will be used to store our contracts monsters and their stats</li> <li><code>strModifiers</code> will allow players to set their STR modifier, which gets
added to each dice roll</li> <li><code>requestIdToMonsterId</code> will temporarily store data on which request relates
to which monster while the roll is in progress</li> <li><code>requestIdToAddress</code> will similarly track which user rolled.</li> <li><code>lastResult</code> will store the last roll and result for a player/monster</li></ul> <h3 id="events"><a href="#events" class="header-anchor">#</a> Events</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code>    <span class="token keyword">event</span> <span class="token function">AddMonster</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> monsterId<span class="token punctuation">,</span> <span class="token builtin">string</span> name<span class="token punctuation">,</span> <span class="token builtin">uint256</span> ac<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">event</span> <span class="token function">ChangeStrModifier</span><span class="token punctuation">(</span><span class="token builtin">address</span> player<span class="token punctuation">,</span> <span class="token builtin">uint256</span> strMod<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">event</span> <span class="token function">HittingMonster</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> monsterId<span class="token punctuation">,</span> <span class="token builtin">bytes32</span> requestId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">event</span> <span class="token function">HitResult</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> monsterId<span class="token punctuation">,</span> <span class="token builtin">bytes32</span> requestId<span class="token punctuation">,</span> <span class="token builtin">address</span> player<span class="token punctuation">,</span> <span class="token builtin">string</span> result<span class="token punctuation">,</span> <span class="token builtin">uint256</span> roll<span class="token punctuation">,</span> <span class="token builtin">uint256</span> modified<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Again, nothing complex here - just some events that will be emitted during
the functions we'll implement next.</p> <h2 id="monster-player-related-functions"><a href="#monster-player-related-functions" class="header-anchor">#</a> Monster &amp; Player related functions</h2> <p>We'll add few non-VOR functions first, to support the contract
owner adding monsters, and players editing their stats.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><em>Neither of the two following functions are required by VOR</em>.
They are required only for the DnD contract's own functionality
and for the purpose of demoing VOR.</p></div> <h3 id="addmonster"><a href="#addmonster" class="header-anchor">#</a> addMonster</h3> <p>This will just allow the contract owner to add up to 20 monsters. The
<code>onlyOwner</code> modifier is part of OpenZeppelin's <code>Ownable</code> contract.</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code>    <span class="token keyword">function</span> <span class="token function">addMonster</span><span class="token punctuation">(</span><span class="token builtin">string</span> <span class="token keyword">memory</span> _name<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _ac<span class="token punctuation">)</span> <span class="token keyword">external</span> onlyOwner <span class="token punctuation">{</span>
        <span class="token keyword">require</span><span class="token punctuation">(</span>nextMonsterId <span class="token operator">&lt;=</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">&quot;too many monsters&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">require</span><span class="token punctuation">(</span>_ac <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;monster too weak&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        monsters<span class="token punctuation">[</span>nextMonsterId<span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">=</span> _name<span class="token punctuation">;</span>
        monsters<span class="token punctuation">[</span>nextMonsterId<span class="token punctuation">]</span><span class="token punctuation">.</span>ac <span class="token operator">=</span> _ac<span class="token punctuation">;</span>
        <span class="token keyword">emit</span> <span class="token function">AddMonster</span><span class="token punctuation">(</span>nextMonsterId<span class="token punctuation">,</span> _name<span class="token punctuation">,</span> _ac<span class="token punctuation">)</span><span class="token punctuation">;</span>
        nextMonsterId <span class="token operator">=</span> nextMonsterId<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>Here, we're just taking the name and AC value of a new monster and adding it
to the <code>monsters</code> list, then emitting an event.
Players will select the ID of the monster they are fighting when
calling the <code>rollForHit</code> function.</p> <h3 id="changestrmodifier"><a href="#changestrmodifier" class="header-anchor">#</a> changeStrModifier</h3> <p>This function will allow players to set their STR modifier. Anyone can
call, and the result will be stored with the <code>msg.sender</code>.</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code>    <span class="token keyword">function</span> <span class="token function">changeStrModifier</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> _strMod<span class="token punctuation">)</span> <span class="token keyword">external</span> <span class="token punctuation">{</span>
        <span class="token keyword">require</span><span class="token punctuation">(</span>_strMod <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&quot;player too strong&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        strModifiers<span class="token punctuation">[</span>msg<span class="token punctuation">.</span>sender<span class="token punctuation">]</span> <span class="token operator">=</span> _strMod<span class="token punctuation">;</span>
        <span class="token keyword">emit</span> <span class="token function">ChangeStrModifier</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span>sender<span class="token punctuation">,</span> _strMod<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><h3 id="getlastresult"><a href="#getlastresult" class="header-anchor">#</a> getLastResult</h3> <p>This function allows queries to the contract to retrieve the last roll
result for a player/monster combo</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code>    <span class="token keyword">function</span> <span class="token function">getLastResult</span><span class="token punctuation">(</span><span class="token builtin">address</span> _player<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _monsterId<span class="token punctuation">)</span> <span class="token keyword">external</span> <span class="token keyword">view</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span>Result <span class="token keyword">memory</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> lastResult<span class="token punctuation">[</span>_player<span class="token punctuation">]</span><span class="token punctuation">[</span>_monsterId<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><h3 id="unstickroll"><a href="#unstickroll" class="header-anchor">#</a> unstickRoll</h3> <p>Because sometimes the dice rolls under the table...</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code>    <span class="token keyword">function</span> <span class="token function">unstickRoll</span><span class="token punctuation">(</span><span class="token builtin">address</span> _player<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _monsterId<span class="token punctuation">)</span> <span class="token keyword">external</span> onlyOwner <span class="token punctuation">{</span>
        lastResult<span class="token punctuation">[</span>_player<span class="token punctuation">]</span><span class="token punctuation">[</span>_monsterId<span class="token punctuation">]</span><span class="token punctuation">.</span>isRolling <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><h2 id="implementing-vor-for-randomness"><a href="#implementing-vor-for-randomness" class="header-anchor">#</a> Implementing VOR for Randomness</h2> <p>Now we have some support functions, we can implement the actual randomness
functionality and make the contract do something. We need to extend and
flesh out the <code>rollForHit</code> function, which will call the underlying <code>requestRandomness</code>
function in the <code>VORConsumerBase</code> contract, and the <code>fulfillRandomness</code>
function, which will receive and process the random number.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The following two functions <strong>are required</strong> to interact with VOR and request
random numbers.</p></div> <h3 id="rollforhit"><a href="#rollforhit" class="header-anchor">#</a> rollForHit</h3> <p>The <code>rollForHit</code> function is a wrapper around the required
<code>VORConsumerBase.requestRandomness</code> function. The call to <code>requestRandomness</code>
is required in order to initialise a request to a VOR Provider Oracle.
Technically, this is the only requirement of the function, but we'll need
to do some pre-processing in order to track results and make use of the
returned value.</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code>    <span class="token keyword">function</span> <span class="token function">rollForHit</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> _monsterId<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _seed<span class="token punctuation">,</span> <span class="token builtin">bytes32</span> _keyHash<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _fee<span class="token punctuation">)</span> <span class="token keyword">external</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token builtin">bytes32</span> requestId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">require</span><span class="token punctuation">(</span>monsters<span class="token punctuation">[</span>_monsterId<span class="token punctuation">]</span><span class="token punctuation">.</span>ac <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;monster does not exist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token operator">!</span>lastResult<span class="token punctuation">[</span>msg<span class="token punctuation">.</span>sender<span class="token punctuation">]</span><span class="token punctuation">[</span>_monsterId<span class="token punctuation">]</span><span class="token punctuation">.</span>isRolling<span class="token punctuation">,</span> <span class="token string">&quot;roll currently in progress&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xFUND<span class="token punctuation">.</span><span class="token function">transferFrom</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span>sender<span class="token punctuation">,</span> <span class="token builtin">address</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _fee<span class="token punctuation">)</span><span class="token punctuation">;</span>
        requestId <span class="token operator">=</span> <span class="token function">requestRandomness</span><span class="token punctuation">(</span>_keyHash<span class="token punctuation">,</span> _fee<span class="token punctuation">,</span> _seed<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">emit</span> <span class="token function">HittingMonster</span><span class="token punctuation">(</span>_monsterId<span class="token punctuation">,</span> requestId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        requestIdToAddress<span class="token punctuation">[</span>requestId<span class="token punctuation">]</span> <span class="token operator">=</span> msg<span class="token punctuation">.</span>sender<span class="token punctuation">;</span>
        requestIdToMonsterId<span class="token punctuation">[</span>requestId<span class="token punctuation">]</span> <span class="token operator">=</span> _monsterId<span class="token punctuation">;</span>
        lastResult<span class="token punctuation">[</span>msg<span class="token punctuation">.</span>sender<span class="token punctuation">]</span><span class="token punctuation">[</span>_monsterId<span class="token punctuation">]</span><span class="token punctuation">.</span>isRolling <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>Prior to calling <code>requestRandomness</code>, we're just ensuring the monster
is in the contract's database, and that the player/monster combo does
not currently have a roll in progress.</p> <p>The next line transfers the required fee from the player calling the
function to this DnD contract. The VORCoordinator then transfers
that fee from the DnD contract to itself for later forwarding to the
VOR Provider Oracle.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>This is just one method for transferring fees to the VORCoordinator.
Another is to omit <code>xFUND.transferFrom</code> from your request implementation,
and simply keep the contract topped up with xFUND (for example, if the
contract owner is the only address that will ever call the request function).
In this case, it would also be advisable to implement a function to withdraw
xFUND from your contract.</p> <p>However, since we want each player to pay their own fees, we are
transferring as a part of the request process.</p></div> <p>Next, the function is making the actual <code>requestRandomness</code> call, which
forwards the request to the <code>VORCoordinator</code>. It returns the generated
<code>requestId</code> which we then use to map some data about the request:</p> <ol><li>the address of the player who made the request</li> <li>the monster th player is fighting.</li></ol> <p>When the request is fulfilled, the <code>requestId</code> is included in the
fulfilment so that we can retrieve any data associated with the request.</p> <p>Finally, we set <code>isRolling</code> for the current player/monster combo to
prevent any further requests on this combo until it's fulfilled</p> <h3 id="fulfillrandomness"><a href="#fulfillrandomness" class="header-anchor">#</a> fulfillRandomness</h3> <p>The <code>fulfillRandomness</code> overrides the <code>virtual</code> function in
<code>VORConsumerBase</code>. It is the function that will receive the random number
and ultimately process it.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Whilst the <code>requestRandomness</code> function can be wrapped around an
arbitrary function, <code>fulfillRandomness</code> must be implemented as</p> <p><code>function fulfillRandomness(bytes32 requestId, uint256 randomness)</code></p> <p>This is because the <code>VORCoordinator</code>, and <code>VORConsumerBase</code> return
data with specific parameters, and expect this function to be defined
as this in order to be able to correctly fulfil the request.</p> <p>The internals of the function contain anything, however.</p></div> <div class="language-solidity extra-class"><pre class="language-solidity"><code>    <span class="token keyword">function</span> <span class="token function">fulfillRandomness</span><span class="token punctuation">(</span><span class="token builtin">bytes32</span> _requestId<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _randomness<span class="token punctuation">)</span> <span class="token keyword">internal</span> override <span class="token punctuation">{</span>
        <span class="token builtin">uint256</span> monsterId <span class="token operator">=</span> requestIdToMonsterId<span class="token punctuation">[</span>_requestId<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token builtin">address</span> player <span class="token operator">=</span> requestIdToAddress<span class="token punctuation">[</span>_requestId<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token builtin">uint256</span> strModifier <span class="token operator">=</span> strModifiers<span class="token punctuation">[</span>player<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token builtin">uint256</span> roll <span class="token operator">=</span> _randomness<span class="token punctuation">.</span><span class="token function">mod</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token builtin">uint256</span> modified <span class="token operator">=</span> roll<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>strModifier<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token builtin">string</span> <span class="token keyword">memory</span> res <span class="token operator">=</span> <span class="token string">&quot;miss&quot;</span><span class="token punctuation">;</span>

        <span class="token comment">// Critical hit!</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>roll <span class="token operator">==</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res <span class="token operator">=</span> <span class="token string">&quot;nat20&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>roll <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res <span class="token operator">=</span> <span class="token string">&quot;nat1&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// Check roll + STR modifier against monster's AC</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>modified <span class="token operator">&gt;=</span> monsters<span class="token punctuation">[</span>monsterId<span class="token punctuation">]</span><span class="token punctuation">.</span>ac<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                res <span class="token operator">=</span> <span class="token string">&quot;hit&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                res <span class="token operator">=</span> <span class="token string">&quot;miss&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">emit</span> <span class="token function">HitResult</span><span class="token punctuation">(</span>monsterId<span class="token punctuation">,</span> _requestId<span class="token punctuation">,</span> player<span class="token punctuation">,</span> res<span class="token punctuation">,</span> roll<span class="token punctuation">,</span> modified<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
        <span class="token comment">// store the results</span>
        lastResult<span class="token punctuation">[</span>player<span class="token punctuation">]</span><span class="token punctuation">[</span>monsterId<span class="token punctuation">]</span><span class="token punctuation">.</span>result <span class="token operator">=</span> res<span class="token punctuation">;</span>
        lastResult<span class="token punctuation">[</span>player<span class="token punctuation">]</span><span class="token punctuation">[</span>monsterId<span class="token punctuation">]</span><span class="token punctuation">.</span>roll <span class="token operator">=</span> roll<span class="token punctuation">;</span>
        lastResult<span class="token punctuation">[</span>player<span class="token punctuation">]</span><span class="token punctuation">[</span>monsterId<span class="token punctuation">]</span><span class="token punctuation">.</span>modified <span class="token operator">=</span> modified<span class="token punctuation">;</span>
        lastResult<span class="token punctuation">[</span>player<span class="token punctuation">]</span><span class="token punctuation">[</span>monsterId<span class="token punctuation">]</span><span class="token punctuation">.</span>isRolling <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

        <span class="token comment">// clean up</span>
        <span class="token keyword">delete</span> requestIdToMonsterId<span class="token punctuation">[</span>_requestId<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">delete</span> requestIdToAddress<span class="token punctuation">[</span>_requestId<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>The first three lines of our function are just retrieving some data related
to the request. This data was stored when the request was initialised.
It's simply getting the ID of the monster being hit, the player who is
hitting it, and then from that, deriving that player's STR modifier.</p> <p>Next, the <code>_randomness</code> value returned from the VOR Provider Oracle is
converted into a value between 1 and 20, simulating the roll of a d20.</p> <p>The player's STR modifier is added to this value, and then checking
whether the player rolled high enough to hit the selected monster.</p> <p>A roll of 20 is a Natural 20, and always hits (with crit!).
A roll of 1 is a Natural 1, and always misses (boo!).</p> <p>Otherwise, we check to see if the <code>roll + STR</code> modifier is enough to
hit the monster.</p> <p>The result is emitted in the <code>HitResult</code> event, and stored in <code>lastResult</code>.</p> <h2 id="helper-function-s"><a href="#helper-function-s" class="header-anchor">#</a> Helper function(s)</h2> <p>The final function we'll write uses the <code>_increaseVorCoordinatorAllowance</code>
helper function included in <code>VORConsumerBase</code>. Its role is to permit
the <code>VORCoordinator</code> smart contract to spend xFUNDMOCK on behalf of
our smart contract, since the <code>VORCoordinator</code> needs to be able to
transfer fees when each request for randomness is made.</p> <p>For this function, we'll also use the OpenZeppelin <code>Ownable</code> contract's
<code>onlyOwner</code> modifier to ensure that only the contract owner can run this
function</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code>    <span class="token keyword">function</span> <span class="token function">increaseVorAllowance</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> _amount<span class="token punctuation">)</span> <span class="token keyword">external</span> onlyOwner <span class="token punctuation">{</span>
        <span class="token function">_increaseVorCoordinatorAllowance</span><span class="token punctuation">(</span>_amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>This just calls <code>VORConsumerBase._increaseVorCoordinatorAllowance</code> function,
which in turn informs the <code>xFUNDMOCK</code> smart contract that we're allowing
<code>VORCoordinator</code> to spend <code>DnD</code>'s <code>xFUNDMOCK</code> tokens to pay for fees.</p> <div class="custom-block tip"><p class="custom-block-title">Note</p> <p>The <code>VORConsumerBase</code> contract contains other helper functions, which can
also be wrapped in a protected function in your own contract. See
<a href="https://github.com/unification-com/xfund-vor/blob/main/contracts/examples" target="_blank" rel="noopener noreferrer">https://github.com/unification-com/xfund-vor/blob/main/contracts/examples<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
for implementation examples.</p></div> <h2 id="final-contract"><a href="#final-contract" class="header-anchor">#</a> Final contract</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Check out <a href="https://github.com/unification-com/vor-demos/blob/main/contracts/DnD.sol" target="_blank" rel="noopener noreferrer">https://github.com/unification-com/vor-demos/blob/main/contracts/DnD.sol<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
for the latest version of this demo contract.</p></div> <p>The final contract should look something like this:</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token comment">// SPDX-License-Identifier: MIT</span>
<span class="token keyword">pragma</span> <span class="token keyword">solidity</span> <span class="token number">0.6</span><span class="token number">.12</span><span class="token punctuation">;</span>
<span class="token keyword">pragma</span> experimental ABIEncoderV2<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token string">&quot;@openzeppelin/contracts/math/SafeMath.sol&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;@openzeppelin/contracts/access/Ownable.sol&quot;</span><span class="token punctuation">;</span>
<span class="token comment">//import &quot;@unification-com/xfund-vor/contracts/VORConsumerBase.sol&quot;;</span>
<span class="token keyword">import</span> <span class="token string">&quot;../../xfund-vor/contracts/VORConsumerBase.sol&quot;</span><span class="token punctuation">;</span>

<span class="token comment">/** ****************************************************************************
 * @notice Extremely simple DnD roll D20 to Hit using VOR
 * *****************************************************************************
 * @dev The contract owner can add up to 20 monsters. Players can modify their STR
 * modifier, which is pinned to their address. Players call the rollForHit function
 * and pay the associated xFUND fee to roll the D20. The result is returned in
 * fulfillRandomness, which calculates if the player crits, hits or misses.
 */</span>
<span class="token keyword">contract</span> <span class="token class-name">DnD</span> <span class="token keyword">is</span> Ownable<span class="token punctuation">,</span> VORConsumerBase <span class="token punctuation">{</span>
    <span class="token keyword">using</span> <span class="token class-name">SafeMath</span> <span class="token keyword">for</span> <span class="token builtin">uint256</span><span class="token punctuation">;</span>

    <span class="token comment">// keep track of the monsters</span>
    <span class="token builtin">uint256</span> <span class="token keyword">public</span> nextMonsterId<span class="token punctuation">;</span>

    <span class="token comment">// super simple monster stats</span>
    <span class="token keyword">struct</span> <span class="token class-name">Monster</span> <span class="token punctuation">{</span>
        <span class="token builtin">string</span> name<span class="token punctuation">;</span>
        <span class="token builtin">uint256</span> ac<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">struct</span> <span class="token class-name">Result</span> <span class="token punctuation">{</span>
        <span class="token builtin">uint256</span> roll<span class="token punctuation">;</span>
        <span class="token builtin">uint256</span> modified<span class="token punctuation">;</span>
        <span class="token builtin">string</span> result<span class="token punctuation">;</span>
        <span class="token builtin">bool</span> isRolling<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// monsters held in the contract</span>
    <span class="token keyword">mapping</span> <span class="token punctuation">(</span><span class="token builtin">uint256</span> <span class="token operator">=&gt;</span> Monster<span class="token punctuation">)</span> <span class="token keyword">public</span> monsters<span class="token punctuation">;</span>
    <span class="token comment">// player STR modifiers</span>
    <span class="token keyword">mapping</span> <span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token operator">=&gt;</span> <span class="token builtin">uint256</span><span class="token punctuation">)</span> <span class="token keyword">public</span> strModifiers<span class="token punctuation">;</span>
    <span class="token comment">// map request IDs to monster IDs</span>
    <span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">bytes32</span> <span class="token operator">=&gt;</span> <span class="token builtin">uint256</span><span class="token punctuation">)</span> <span class="token keyword">public</span> requestIdToMonsterId<span class="token punctuation">;</span>
    <span class="token comment">// map request IDs to player addresses, to retrieve STR modifiers</span>
    <span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">bytes32</span> <span class="token operator">=&gt;</span> <span class="token builtin">address</span><span class="token punctuation">)</span> <span class="token keyword">public</span> requestIdToAddress<span class="token punctuation">;</span>
    <span class="token comment">// store last [player][monster] results</span>
    <span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token operator">=&gt;</span> <span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> <span class="token operator">=&gt;</span> Result<span class="token punctuation">)</span><span class="token punctuation">)</span> lastResult<span class="token punctuation">;</span>

    <span class="token comment">// Some useful events to track</span>
    <span class="token keyword">event</span> <span class="token function">AddMonster</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> monsterId<span class="token punctuation">,</span> <span class="token builtin">string</span> name<span class="token punctuation">,</span> <span class="token builtin">uint256</span> ac<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">event</span> <span class="token function">ChangeStrModifier</span><span class="token punctuation">(</span><span class="token builtin">address</span> player<span class="token punctuation">,</span> <span class="token builtin">uint256</span> strMod<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">event</span> <span class="token function">HittingMonster</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> monsterId<span class="token punctuation">,</span> <span class="token builtin">bytes32</span> requestId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">event</span> <span class="token function">HitResult</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> monsterId<span class="token punctuation">,</span> <span class="token builtin">bytes32</span> requestId<span class="token punctuation">,</span> <span class="token builtin">address</span> player<span class="token punctuation">,</span> <span class="token builtin">string</span> result<span class="token punctuation">,</span> <span class="token builtin">uint256</span> roll<span class="token punctuation">,</span> <span class="token builtin">uint256</span> modified<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">/**
    * @notice Constructor inherits VORConsumerBase
    *
    * @param _vorCoordinator address of the VOR Coordinator
    * @param _xfund address of the xFUND token
    */</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token builtin">address</span> _vorCoordinator<span class="token punctuation">,</span> <span class="token builtin">address</span> _xfund<span class="token punctuation">)</span>
    <span class="token keyword">public</span>
    <span class="token function">VORConsumerBase</span><span class="token punctuation">(</span>_vorCoordinator<span class="token punctuation">,</span> _xfund<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        nextMonsterId <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
    * @notice addMonster can be called by the owner to add a new monster
    *
    * @param _name string name of the monster
    * @param _ac uint256 AC of the monster
    */</span>
    <span class="token keyword">function</span> <span class="token function">addMonster</span><span class="token punctuation">(</span><span class="token builtin">string</span> <span class="token keyword">memory</span> _name<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _ac<span class="token punctuation">)</span> <span class="token keyword">external</span> onlyOwner <span class="token punctuation">{</span>
        <span class="token keyword">require</span><span class="token punctuation">(</span>nextMonsterId <span class="token operator">&lt;=</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">&quot;too many monsters&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">require</span><span class="token punctuation">(</span>_ac <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;monster too weak&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        monsters<span class="token punctuation">[</span>nextMonsterId<span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">=</span> _name<span class="token punctuation">;</span>
        monsters<span class="token punctuation">[</span>nextMonsterId<span class="token punctuation">]</span><span class="token punctuation">.</span>ac <span class="token operator">=</span> _ac<span class="token punctuation">;</span>
        <span class="token keyword">emit</span> <span class="token function">AddMonster</span><span class="token punctuation">(</span>nextMonsterId<span class="token punctuation">,</span> _name<span class="token punctuation">,</span> _ac<span class="token punctuation">)</span><span class="token punctuation">;</span>
        nextMonsterId <span class="token operator">=</span> nextMonsterId<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
    * @notice changeStrModifier can be called by anyone to change their STR modifier
    *
    * @param _strMod uint256 STR modifier of player
    */</span>
    <span class="token keyword">function</span> <span class="token function">changeStrModifier</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> _strMod<span class="token punctuation">)</span> <span class="token keyword">external</span> <span class="token punctuation">{</span>
        <span class="token keyword">require</span><span class="token punctuation">(</span>_strMod <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&quot;player too strong&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        strModifiers<span class="token punctuation">[</span>msg<span class="token punctuation">.</span>sender<span class="token punctuation">]</span> <span class="token operator">=</span> _strMod<span class="token punctuation">;</span>
        <span class="token keyword">emit</span> <span class="token function">ChangeStrModifier</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span>sender<span class="token punctuation">,</span> _strMod<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
    * @notice rollForHit anyone can call to roll the D20 for hit. Caller (msg.sender)
    * pays the xFUND fees for the request.
    *
    * @param _monsterId uint256 Id of the monster the caller is fighting
    * @param _seed uint256 seed for the randomness request. Gets mixed in with the blockhash of the block this Tx is in
    * @param _keyHash bytes32 key hash of the provider caller wants to fulfil the request
    * @param _fee uint256 required fee amount for the request
    */</span>
    <span class="token keyword">function</span> <span class="token function">rollForHit</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> _monsterId<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _seed<span class="token punctuation">,</span> <span class="token builtin">bytes32</span> _keyHash<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _fee<span class="token punctuation">)</span> <span class="token keyword">external</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token builtin">bytes32</span> requestId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">require</span><span class="token punctuation">(</span>monsters<span class="token punctuation">[</span>_monsterId<span class="token punctuation">]</span><span class="token punctuation">.</span>ac <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;monster does not exist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token operator">!</span>lastResult<span class="token punctuation">[</span>msg<span class="token punctuation">.</span>sender<span class="token punctuation">]</span><span class="token punctuation">[</span>_monsterId<span class="token punctuation">]</span><span class="token punctuation">.</span>isRolling<span class="token punctuation">,</span> <span class="token string">&quot;roll currently in progress&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Note - caller must have increased xFUND allowance for this contract first.</span>
        <span class="token comment">// Fee is transferred from msg.sender to this contract. The VORCoordinator.requestRandomness</span>
        <span class="token comment">// function will then transfer from this contract to itself.</span>
        <span class="token comment">// This contract's owner must have increased the VORCoordnator's allowance for this contract.</span>
        xFUND<span class="token punctuation">.</span><span class="token function">transferFrom</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span>sender<span class="token punctuation">,</span> <span class="token builtin">address</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _fee<span class="token punctuation">)</span><span class="token punctuation">;</span>
        requestId <span class="token operator">=</span> <span class="token function">requestRandomness</span><span class="token punctuation">(</span>_keyHash<span class="token punctuation">,</span> _fee<span class="token punctuation">,</span> _seed<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">emit</span> <span class="token function">HittingMonster</span><span class="token punctuation">(</span>_monsterId<span class="token punctuation">,</span> requestId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        requestIdToAddress<span class="token punctuation">[</span>requestId<span class="token punctuation">]</span> <span class="token operator">=</span> msg<span class="token punctuation">.</span>sender<span class="token punctuation">;</span>
        requestIdToMonsterId<span class="token punctuation">[</span>requestId<span class="token punctuation">]</span> <span class="token operator">=</span> _monsterId<span class="token punctuation">;</span>
        lastResult<span class="token punctuation">[</span>msg<span class="token punctuation">.</span>sender<span class="token punctuation">]</span><span class="token punctuation">[</span>_monsterId<span class="token punctuation">]</span><span class="token punctuation">.</span>isRolling <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * @notice Callback function used by VOR Coordinator to return the random number
     * to this contract.
     * @dev The random number is used to simulate a D20 roll. Result is emitted as follows:
     * 1: Natural 1...
     * 20: Natural 20!
     * roll + strModifier &gt;= monster AC: hit
     * roll + strModifier &lt; monster AC: miss
     *
     * @param _requestId bytes32
     * @param _randomness The random result returned by the oracle
     */</span>
    <span class="token keyword">function</span> <span class="token function">fulfillRandomness</span><span class="token punctuation">(</span><span class="token builtin">bytes32</span> _requestId<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _randomness<span class="token punctuation">)</span> <span class="token keyword">internal</span> override <span class="token punctuation">{</span>
        <span class="token builtin">uint256</span> monsterId <span class="token operator">=</span> requestIdToMonsterId<span class="token punctuation">[</span>_requestId<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token builtin">address</span> player <span class="token operator">=</span> requestIdToAddress<span class="token punctuation">[</span>_requestId<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token builtin">uint256</span> strModifier <span class="token operator">=</span> strModifiers<span class="token punctuation">[</span>player<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token builtin">uint256</span> roll <span class="token operator">=</span> _randomness<span class="token punctuation">.</span><span class="token function">mod</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token builtin">uint256</span> modified <span class="token operator">=</span> roll<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>strModifier<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token builtin">string</span> <span class="token keyword">memory</span> res <span class="token operator">=</span> <span class="token string">&quot;miss&quot;</span><span class="token punctuation">;</span>

        <span class="token comment">// Critical hit!</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>roll <span class="token operator">==</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res <span class="token operator">=</span> <span class="token string">&quot;nat20&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>roll <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res <span class="token operator">=</span> <span class="token string">&quot;nat1&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// Check roll + STR modifier against monster's AC</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>modified <span class="token operator">&gt;=</span> monsters<span class="token punctuation">[</span>monsterId<span class="token punctuation">]</span><span class="token punctuation">.</span>ac<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                res <span class="token operator">=</span> <span class="token string">&quot;hit&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                res <span class="token operator">=</span> <span class="token string">&quot;miss&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">emit</span> <span class="token function">HitResult</span><span class="token punctuation">(</span>monsterId<span class="token punctuation">,</span> _requestId<span class="token punctuation">,</span> player<span class="token punctuation">,</span> res<span class="token punctuation">,</span> roll<span class="token punctuation">,</span> modified<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// store the results</span>
        lastResult<span class="token punctuation">[</span>player<span class="token punctuation">]</span><span class="token punctuation">[</span>monsterId<span class="token punctuation">]</span><span class="token punctuation">.</span>result <span class="token operator">=</span> res<span class="token punctuation">;</span>
        lastResult<span class="token punctuation">[</span>player<span class="token punctuation">]</span><span class="token punctuation">[</span>monsterId<span class="token punctuation">]</span><span class="token punctuation">.</span>roll <span class="token operator">=</span> roll<span class="token punctuation">;</span>
        lastResult<span class="token punctuation">[</span>player<span class="token punctuation">]</span><span class="token punctuation">[</span>monsterId<span class="token punctuation">]</span><span class="token punctuation">.</span>modified <span class="token operator">=</span> modified<span class="token punctuation">;</span>
        lastResult<span class="token punctuation">[</span>player<span class="token punctuation">]</span><span class="token punctuation">[</span>monsterId<span class="token punctuation">]</span><span class="token punctuation">.</span>isRolling <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

        <span class="token comment">// clean up</span>
        <span class="token keyword">delete</span> requestIdToMonsterId<span class="token punctuation">[</span>_requestId<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">delete</span> requestIdToAddress<span class="token punctuation">[</span>_requestId<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * @notice getLastResult returns the last result for a specified player/monsterId.
     *
     * @param _player address address of player
     * @param _monsterId uint256 id of monster
     */</span>
    <span class="token keyword">function</span> <span class="token function">getLastResult</span><span class="token punctuation">(</span><span class="token builtin">address</span> _player<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _monsterId<span class="token punctuation">)</span> <span class="token keyword">external</span> <span class="token keyword">view</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span>Result <span class="token keyword">memory</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> lastResult<span class="token punctuation">[</span>_player<span class="token punctuation">]</span><span class="token punctuation">[</span>_monsterId<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
    * @notice unstickRoll allows contract owner to unstick a roll when a request is not fulfilled
    *
    * @param _player address address of player
    * @param _monsterId uint256 id of monster
    */</span>
    <span class="token keyword">function</span> <span class="token function">unstickRoll</span><span class="token punctuation">(</span><span class="token builtin">address</span> _player<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _monsterId<span class="token punctuation">)</span> <span class="token keyword">external</span> onlyOwner <span class="token punctuation">{</span>
        lastResult<span class="token punctuation">[</span>_player<span class="token punctuation">]</span><span class="token punctuation">[</span>_monsterId<span class="token punctuation">]</span><span class="token punctuation">.</span>isRolling <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * @notice Example wrapper function for the VORConsumerBase increaseVorCoordinatorAllowance function.
     * @dev Wrapped around an Ownable modifier to ensure only the contract owner can call it.
     * @dev Allows contract owner to increase the xFUND allowance for the VORCoordinator contract
     * @dev enabling it to pay request fees on behalf of this contract.
     *
     * @param _amount uint256 amount to increase allowance by
     */</span>
    <span class="token keyword">function</span> <span class="token function">increaseVorAllowance</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> _amount<span class="token punctuation">)</span> <span class="token keyword">external</span> onlyOwner <span class="token punctuation">{</span>
        <span class="token function">_increaseVorCoordinatorAllowance</span><span class="token punctuation">(</span>_amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Next, we'll look at how to <a href="/vor/guide/interaction.html">interact</a> with the contract,
request randomness and view the results.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vor/guide/quickstart.html" class="prev">
        VOR Quickstart
      </a></span> <span class="next"><a href="/vor/guide/interaction.html">
        VOR Interacting with the DnD example
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.55c2b24c.js" defer></script><script src="/assets/js/2.ab437a62.js" defer></script><script src="/assets/js/490.239d56df.js" defer></script>
  </body>
</html>
